# PWA Setup Guide - Rapport by GoBoclean

## Overview
Your PWA is now configured with:
- **App Name**: Rapport by GoBoclean
- **Short Name**: Rapport
- **Orientation**: Landscape (optimized for tablet/landscape use)
- **Installable**: Yes, users can download and install on their devices

## Folder Structure

### `/public/icons/`
Place your app icons here. You need the following sizes:
- `icon-72x72.png` (72x72 pixels)
- `icon-96x96.png` (96x96 pixels)
- `icon-128x128.png` (128x128 pixels)
- `icon-144x144.png` (144x144 pixels)
- `icon-152x152.png` (152x152 pixels) - Apple Touch Icon
- `icon-192x192.png` (192x192 pixels) - Standard PWA icon
- `icon-384x384.png` (384x384 pixels)
- `icon-512x512.png` (512x512 pixels) - High-res PWA icon

**Icon Design Tips:**
- Use a simple, recognizable logo
- Include the GoBoclean branding
- Ensure good contrast for visibility
- Icons should work on both light and dark backgrounds
- For maskable icons (192x192 and 512x512), keep important content in the safe zone (center 80%)

### `/public/favicon/`
Place your favicon files here:
- `favicon-16x16.png` (16x16 pixels)
- `favicon-32x32.png` (32x32 pixels)
- `favicon.ico` (optional, 16x16 + 32x32 combined)

## PWA Features Enabled

### 1. **Landscape Orientation**
The app is configured to open and run in landscape mode by default, perfect for field work and report viewing.

### 2. **Standalone Display**
The app runs in fullscreen mode without browser UI when installed.

### 3. **Offline Support**
- Service worker is enabled
- Caching for offline functionality
- Automatic reload when connection is restored

### 4. **Install Prompts**
Users can install the app:
- **Android**: "Add to Home Screen" or "Install App" prompt
- **iOS**: "Add to Home Screen" from Safari share menu
- **Desktop**: Install button in browser address bar

### 5. **App Shortcuts**
Two shortcuts are configured:
- Create New Report
- View Dashboard

### 6. **Theme Integration**
- Theme color: `#84cc16` (lime green)
- Background: White
- Status bar styled for mobile

## Testing Your PWA

### Development
```bash
# The PWA is disabled in development mode
# To test, build for production:
npm run build
npm run start
```

### Production Checklist
1. ✅ HTTPS enabled (required for PWA)
2. ✅ Manifest file configured
3. ✅ Service worker registered
4. ✅ Icons in correct folders
5. ✅ Favicon files present
6. ✅ Viewport meta tags set

### Testing Installation

#### On Android (Chrome/Edge)
1. Visit your site in Chrome
2. Tap the menu (⋮)
3. Select "Add to Home Screen" or "Install App"
4. The app will open in landscape mode

#### On iOS (Safari)
1. Visit your site in Safari
2. Tap the share button
3. Tap "Add to Home Screen"
4. Name it "Rapport" and add

#### On Desktop (Chrome/Edge)
1. Visit your site
2. Look for install icon in address bar
3. Click to install
4. The app opens as a separate window

## Icon Generation Tools

If you need to generate icons from a single source:
- **PWA Asset Generator**: https://www.pwabuilder.com/imageGenerator
- **RealFaviconGenerator**: https://realfavicongenerator.net/
- **Favicon.io**: https://favicon.io/

## Manifest Configuration

The manifest is located at: `/public/manifest.json`

Key settings:
```json
{
  "orientation": "landscape",  // Forces landscape mode
  "display": "standalone",      // Fullscreen app experience
  "scope": "/",                 // Available throughout the app
  "start_url": "/fr"           // Default French locale
}
```

## Service Worker

The service worker is auto-generated by `@ducanh2912/next-pwa` and includes:
- Offline page caching
- Asset caching
- API response caching
- Automatic updates

Configuration in `next.config.js`:
```javascript
withPWA({
  dest: "public",
  disable: process.env.NODE_ENV === "development",
  register: true,
  skipWaiting: true,
  cacheOnFrontEndNav: true,
  reloadOnOnline: true,
})
```

## Troubleshooting

### "App not installable"
- Ensure HTTPS is enabled
- Check all required icons are present
- Verify manifest.json is accessible at `/manifest.json`
- Check browser console for PWA errors

### "Icons not showing"
- Verify icon paths match manifest.json
- Ensure icons are PNG format
- Check file permissions
- Clear browser cache

### "Landscape mode not working"
- The orientation is a hint, not a guarantee
- Some devices may override this setting
- iOS Safari has limited orientation control

## Next Steps

1. **Add your icons** to `/public/icons/` folder
2. **Add your favicons** to `/public/favicon/` folder
3. **Test locally** with production build
4. **Deploy** and test on actual devices
5. **Submit to app stores** (optional - PWABuilder can help)

## Resources

- [PWA Documentation](https://web.dev/progressive-web-apps/)
- [Next.js PWA Guide](https://ducanh-next-pwa.vercel.app/)
- [Web App Manifest Spec](https://www.w3.org/TR/appmanifest/)
- [Service Worker API](https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API)
